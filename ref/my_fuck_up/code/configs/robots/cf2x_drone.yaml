# Crazyflie 2.X Drone Configuration for genesis_ros

robot:
  name: cf2x_drone
  label: "Crazyflie 2.X"
  description: "Micro quadcopter drone with X configuration"
  category: drone
  
  # Local URDF path
  urdf_path: "assets/urdf/drones/cf2x.urdf"
  
  initial_position: [0.0, 0.0, 0.5]
  initial_orientation: [1.0, 0.0, 0.0, 0.0]
  
  # No articulated joints - all fixed propeller joints
  joints: []
  
  control:
    type: thrust  # Motor thrust control
    command_topic: /motor_commands
    state_topic: /drone_state
    rate: 500  # Hz
    
    # Thrust limits per motor
    thrust_limits:
      min: 0.0
      max: 0.6  # N per motor
  
  specs:
    dof: 0  # Free-floating body, no articulated joints
    mass: 0.027  # kg
    arm_length: 0.0397  # m (motor to center)
    max_speed: 30  # km/h
    thrust_to_weight: 2.25
    propeller_radius: 0.023  # m
    num_motors: 4

sensors:
  # Main view camera
  - type: camera
    name: main_camera
    label: "Main View"
    res: [1280, 720]
    pos: [1.0, 1.0, 1.0]
    lookat: [0.0, 0.0, 0.5]
    fov: 60
    publish_rgb: true
    topic: /camera/main/image_raw
    fps: 30
  
  # Downward facing camera
  - type: camera
    name: down_camera
    label: "Down Camera"
    parent_link: base_link
    res: [160, 120]
    local_pos: [0.0, 0.0, -0.01]
    local_lookat: [0.0, 0.0, -1.0]
    fov: 60
    publish_rgb: true
    topic: /camera/down/image_raw
    fps: 30
  
  # IMU
  - type: imu
    name: body_imu
    label: "Body IMU"
    parent_link: base_link
    topic: /imu/data
    publish_rate: 500

scene:
  ground_plane:
    enabled: true
    material: "concrete"
    friction: 0.8
  
  gravity: [0.0, 0.0, -9.81]
  dt: 0.002  # 500 Hz
  substeps: 4

training:
  observation_space:
    position: true  # 3
    orientation: true  # 4 (quaternion)
    linear_velocity: true  # 3
    angular_velocity: true  # 3
    motor_speeds: true  # 4
    previous_action: true  # 4
    goal_relative: true  # 6 (position + orientation error)
    # Total: 27
  
  action_space:
    type: motor_thrust
    dim: 4
    scale: 1.0
  
  rewards:
    position_tracking:
      weight: 1.0
    orientation_tracking:
      weight: 0.5
    velocity_penalty:
      weight: -0.01
    angular_velocity_penalty:
      weight: -0.01
    action_rate:
      weight: -0.001
    alive_bonus:
      weight: 0.1
  
  termination:
    max_steps: 1000
    height_min: 0.05  # m
    height_max: 3.0  # m
    tilt_max: 1.5  # rad

metadata:
  author: "SDR_OS Genesis Integration"
  version: "1.0.0"
  source: "Bitcraze Crazyflie"
