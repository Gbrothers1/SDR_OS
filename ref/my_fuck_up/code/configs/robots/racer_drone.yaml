# Racing Drone Configuration for genesis_ros

robot:
  name: racer_drone
  label: "Racing Drone"
  description: "High-speed racing quadcopter"
  category: drone
  
  # Local URDF path
  urdf_path: "assets/urdf/drones/racer.urdf"
  
  initial_position: [0.0, 0.0, 1.0]
  initial_orientation: [1.0, 0.0, 0.0, 0.0]
  
  # No articulated joints - all fixed propeller joints
  joints: []
  
  control:
    type: thrust  # Motor thrust control
    command_topic: /motor_commands
    state_topic: /drone_state
    rate: 500  # Hz
    
    thrust_limits:
      min: 0.0
      max: 4.0  # N per motor (higher thrust for racing)
  
  specs:
    dof: 0  # Free-floating body
    mass: 0.830  # kg
    arm_length: 0.109  # m (motor to center)
    max_speed: 200  # km/h
    thrust_to_weight: 4.17
    propeller_radius: 0.127  # m (5 inch props)
    num_motors: 4

sensors:
  # Main view camera
  - type: camera
    name: main_camera
    label: "Main View"
    res: [1280, 720]
    pos: [3.0, 3.0, 2.0]
    lookat: [0.0, 0.0, 1.0]
    fov: 60
    publish_rgb: true
    topic: /camera/main/image_raw
    fps: 60  # Higher FPS for racing
  
  # FPV camera
  - type: camera
    name: fpv_camera
    label: "FPV Camera"
    parent_link: base_link
    res: [640, 480]
    local_pos: [0.05, 0.0, 0.01]
    local_lookat: [1.0, 0.0, -0.1]  # Slight downward tilt
    fov: 120  # Wide angle
    publish_rgb: true
    topic: /camera/fpv/image_raw
    fps: 60
  
  # IMU
  - type: imu
    name: body_imu
    label: "Body IMU"
    parent_link: base_link
    topic: /imu/data
    publish_rate: 1000  # High rate for racing

scene:
  ground_plane:
    enabled: true
    material: "asphalt"
    friction: 0.8
  
  gravity: [0.0, 0.0, -9.81]
  dt: 0.001  # 1000 Hz for high-speed dynamics
  substeps: 4

training:
  observation_space:
    position: true  # 3
    orientation: true  # 4 (quaternion)
    linear_velocity: true  # 3
    angular_velocity: true  # 3
    motor_speeds: true  # 4
    previous_action: true  # 4
    gate_relative: true  # 6 (next gate position + orientation)
    # Total: 27
  
  action_space:
    type: motor_thrust
    dim: 4
    scale: 1.0
  
  rewards:
    gate_progress:
      weight: 10.0
    velocity_alignment:
      weight: 1.0
    orientation_penalty:
      weight: -0.1
    collision_penalty:
      weight: -100.0
    time_penalty:
      weight: -0.01
  
  termination:
    max_steps: 2000
    height_min: 0.1  # m
    height_max: 10.0  # m
    collision: true

metadata:
  author: "SDR_OS Genesis Integration"
  version: "1.0.0"
  description: "High-speed drone for racing simulations"
